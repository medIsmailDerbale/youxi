doctype html
head
  meta(charset='UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title YOUXI | Buy the best pc parts
  script(src='https://code.iconify.design/1/1.0.7/iconify.min.js')
  link(rel='preconnect' href='https://fonts.gstatic.com')
  link(href='https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap' rel='stylesheet')
  link(rel='preconnect' href='https://fonts.gstatic.com')
  link(href='https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap' rel='stylesheet')
  link(rel='stylesheet' href='/css/firstpage.css')
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x' crossorigin='anonymous')
// HEADER
include _header

.container
  if current ==1
    #carouselExampleCaptions.carousel.my-3.carousel-dark.slide(data-bs-ride='carousel')
      .carousel-indicators
        button.active(type='button' data-bs-target='#carouselExampleCaptions'   data-bs-slide-to='0' aria-current='true' aria-label='Slide 1')
        button(type='button' data-bs-target='#carouselExampleCaptions' data-bs-slide-to='1'   aria-label='Slide 2')
        button(type='button' data-bs-target='#carouselExampleCaptions' data-bs-slide-to='2'   aria-label='Slide 3')
      -i = Math.floor(Math.random() * (products.length-1)) +1;
      -j = Math.floor(Math.random() * (products.length-1)) +1;
      -z = Math.floor(Math.random() * (products.length-1)) +1;
      .carousel-inner
        .carousel-item.active
          .cdiv1.container.d-block.w-100.d-flex.justify-content-around
            .cdiv2.col-3.offset-2.text-uppercase.mt-2
              h1.fw-bolder #{ products[i].name}
              .mb-2.mb-md-5
                | di di Lorem ipsum dolor
              a(href='/p/'+products[i].id)
                button.btn.fw-bolder.bg-white(type='button') VIEW MORE
            .col-5.col-lg-7
              img.cimg(src=products[i].imageCover, alt='')
        .carousel-item
          .cdiv1.container.d-block.w-100.d-flex.justify-content-around
            .cdiv2.col-3.offset-2.text-uppercase.mt-2
              h1.fw-bolder #{ products[j].name}
              .mb-2.mb-md-5
                | di di Lorem ipsum dolor
              a(href='/p/'+products[j].id)
                button.btn.bg-white.fw-bolder(type='button') VIEW MORE
            .col-5.col-lg-7
              img.cimg(src=products[j].imageCover, alt='')
        .carousel-item
          .cdiv1.container.d-block.w-100.d-flex.justify-content-around
            .cdiv2.col-3.offset-2.text-uppercase.mt-2
              h1.fw-bolder #{ products[z].name}
              .mb-2.mb-md-5
                | #{ products[z].name}
              a(href='/p/'+products[z].id)
                button.btn.bg-white.fw-bolder(type='button') VIEW MORE
            .col-5.col-lg-7
              img.cimg(src=products[z].imageCover, alt='')
      button.carousel-control-prev(type='button' data-bs-target='#carouselExampleCaptions'   data-bs-slide='prev')
        span.carousel-control-prev-icon.text-dark(aria-hidden='true')
        span.visually-hidden Previous
      button.carousel-control-next(type='button' data-bs-target='#carouselExampleCaptions'   data-bs-slide='next')
        span.carousel-control-next-icon(aria-hidden='true')
        span.visually-hidden Next
    .row.d-none.d-sm-block.d-md-flex.justify-content-center
      -i = Math.floor(Math.random() * (products.length-1)) +1;
      -j = Math.floor(Math.random() * (products.length-1)) +1;
      .col-md-6
        .card.card1.mb-3
          .card-body.row
            .col-7
              h5.card-title.card-title1.fw-bold.text-uppercase.mb-3 #{ products[i].name}
              p.card-text
                | #{ products[i].description}
            .row.d-flex.align-items-end.mx-0(style='margin-top: -10%;')
              .col-7.mb-3
                a(href='/p/'+products[i].id)
                  button.btn.bg-white.fw-bolder(type='button') VIEW MORE
              .col-5
                img(src=products[i].imageCover, alt='')
      .col-md-6
        .card.card2.mb-3
          .card-body.row
            .col-7
              h5.card-title.card-title1.card-title2.fw-bold.text-uppercase.mb-3 #{ products[j].  name}
              p.card-text
                | #{ products[j].description}
            .row.d-flex.align-items-end.mx-0(style='margin-top: -10%; ')
              .col-7.mb-3
                a(href='/p/'+products[j].id)
                  button.btn.bg-white.fw-bolder(type='button ') VIEW MORE
              .col-5
                img(src=products[j].imageCover,alt=' ')
  p 
  - var length = products.length;

  - var i = (length-(length%4))/4;

  - for (var x = 0; x < i; x++)
    .row
      - for (var y = 0; y < 4; y++)
        -z=x*4+y
        .col-6.col-md-3.mb-3
          <div class="zoom card card-product mb-4 py-3 border-0 rounded-0">
              <h4> <span class="content badge bg-danger mt-3 ms-3 d-none">SALE</span></h4>
              <div class=" content card-body my-auto ">
                  <div><img src="#{products[z].imageCover}" alt=""></div>
              </div>
              <div class="content card-footer bg-transparent border-0 text-center">
                  if(products[z].quantity>0)
                    <a href="#{ '/api/v1/cart/add-to-cart/' + products[z].id}">
                        <button type="button" class="btn AddToCart-button rounded-0">Add To Cart</button>
                    </a>
                  else
                    <button type="button" class="btn AddToCart-button rounded-0" style="border:2px solid #FF3838 !important;border-top: none !important;border-right: none !important;border-left: none !important;" disabled>Out of Stock</button>
              </div>
          </div>
          <a class="text-decoration-none text-dark " href="#{ '/p/' + products[z].id}">
            <div class="article-txt">
                h #{products[z].name}
                <div class="d-flex justify-content-between ">
                    <h4 class="fw-bold mt-2 ">#{ products[z].price + "DA"} </h4>
                    <h4 class="fw-bold mt-2 text-decoration-line-through text-muted "></h4>
                </div>
            </div>
          </a>
  -i=i*4;
    .row
      - for (var x = i; x < length; x++)
        .col-6.col-md-3.mb-3
          <div class="zoom card card-product mb-4 py-3 border-0 rounded-0">
              <h4> <span class="content badge bg-danger mt-3 ms-3 d-none">SALE</span></h4>
              <div class=" content card-body my-auto ">
                  <div><img src="#{products[x].imageCover}" alt=""></div>
              </div>
              <div class="content card-footer bg-transparent border-0 text-center">
                  if(products[z].quantity>0)
                    <a href="#{ '/api/v1/cart/add-to-cart/' + products[x].id}">
                        <button type="button" class="btn AddToCart-button rounded-0">Add To Cart</button>
                    </a>
                  else
                    <button type="button" class="btn AddToCart-button rounded-0" style="border:2px solid #FF3838 !important;border-top: none !important;border-right: none !important;border-left: none !important;" disabled>Out of Stock</button>
              </div>
          </div>
          <a class="text-decoration-none text-dark " href="#{ '/p/' + products[x].id}">
            <div class="article-txt">
                h #{products[x].name}
                <div class="d-flex justify-content-between ">
                    <h4 class="fw-bold mt-2 ">#{ products[x].price + "DA"} </h4>
                    <h4 class="fw-bold mt-2 text-decoration-line-through text-muted "></h4>
                </div>
            </div>
          </a>
          //- .col-6.col-md-3.mb-3
          //-   .zoom.card.mb-4.py-3
          //-     h4
          //-       span.badge.bg-danger.mt-3.ms-3.d-none SALE
          //-     .card-body
          //-       div
          //-         img(src=products[x].imageCover, alt=' ')
          //-   a.text-decoration-none.text-dark(href='/p/'+products[x].id)
          //-     .article-txt
          //-       | #{ products[x].name}
          //-       .d-flex.justify-content-between
          //-         h4.fw-bold.mt-2  #{ products[x].price + "DA"}
          //-         h4.fw-bold.mt-2.text-decoration-line-through.text-muted



  
  nav(aria-label='Page navigation')
    ul.pagination.justify-content-center
      ul.pagination
        if current > 1
          li.page-item
            a.page-link(href=`?page=${parseInt(current) - 1}`) Previous

        - for (var i = 1; i <= pages; i++) {
          if current==i
            li.page-item.active
              a.page-link(href=`?page=${i}`)=  i
          else
            li.page-item
              a.page-link(href=`?page=${i}`)=  i
        - }


        if current < pages
          li.page-item
            a.page-link(href=`?page=${parseInt(current) + 1}`) Next

//FOOTER     
include _footer

script(src='https://code.iconify.design/1/1.0.7/iconify.min.js ')
script(src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js ' integrity='sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p ' crossorigin='anonymous ')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js ' integrity='sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT ' crossorigin='anonymous ')
