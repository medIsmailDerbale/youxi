doctype html
head
  meta(charset='UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title YOUXI | Buy the best pc parts
  script(src='https://code.iconify.design/1/1.0.7/iconify.min.js')
  link(rel='preconnect' href='https://fonts.gstatic.com')
  link(href='https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap' rel='stylesheet')
  link(rel='preconnect' href='https://fonts.gstatic.com')
  link(href='https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap' rel='stylesheet')
  link(rel='stylesheet' href='/css/firstpage.css')
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x' crossorigin='anonymous')
// HEADER  
nav.navbar.navbar-expand-lg.shadow-sm.p-3.navbar-light.bg-white
  a.navbar-brand(href='/')
    img(src='/img/youxi logo.svg' alt='logo image')
  button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
    span.navbar-toggler-icon
  #navbarSupportedContent.collapse.navbar-collapse.d-lg-flex.justify-content-around
    ul.navbar-nav.mb-2.mb-lg-0
      li.nav-item
        a.nav-link.active.border-bottom.border-dark(aria-current='page' href='/') Home
    form
      .input-group.form-control-sm.border.rounded-pill.bg-light
        input#searchInput.form-control.border-0.bg-light(type='text' placeholder='search' aria-label="Recipient's username" aria-describedby='basic-addon2')
        button#searchButton.input-group-text.border-0
          svg.iconify.text-dark(xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' aria-hidden='true' focusable='false' width='1em' height='1em' preserveaspectratio='xMidYMid meet' viewbox='0 0 24 24' data-icon='bx:bx-search' data-inline='false' style='transform: rotate(360deg)')
            path(d='M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396l1.414-1.414l-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8s3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6s-6-2.691-6-6s2.691-6 6-6z' fill='currentColor')
    div
      a(href='/me')
        svg.userIcon.iconify.text-dark(xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' aria-hidden='true' focusable='false' width='24px' height='24px' preserveaspectratio='xMidYMid meet' viewbox='0 0 24 24' data-icon='bx:bx-user-circle' data-inline='false' data-width='24px' style='transform: rotate(360deg)')
          path(d='M12 2A10.13 10.13 0 0 0 2 12a10 10 0 0 0 4 7.92V20h.1a9.7 9.7 0 0 0 11.8 0h.1v-.08A10 10 0 0 0 22 12A10.13 10.13 0 0 0 12 2zM8.07 18.93A3 3 0 0 1 11 16.57h2a3 3 0 0 1 2.93 2.36a7.75 7.75 0 0 1-7.86 0zm9.54-1.29A5 5 0 0 0 13 14.57h-2a5 5 0 0 0-4.61 3.07A8 8 0 0 1 4 12a8.1 8.1 0 0 1 8-8a8.1 8.1 0 0 1 8 8a8 8 0 0 1-2.39 5.64z' fill='currentColor')
          path(d='M12 6a3.91 3.91 0 0 0-4 4a3.91 3.91 0 0 0 4 4a3.91 3.91 0 0 0 4-4a3.91 3.91 0 0 0-4-4zm0 6a1.91 1.91 0 0 1-2-2a1.91 1.91 0 0 1 2-2a1.91 1.91 0 0 1 2 2a1.91 1.91 0 0 1-2 2z' fill='currentColor')
      a(href='/api/v1/cart/panier')
        svg.iconify.text-dark(xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' aria-hidden='true' focusable='false' width='24px' height='24px' preserveaspectratio='xMidYMid meet' viewbox='0 0 32 32' data-icon='la:shopping-basket' data-inline='false' data-width='24px' style='transform: rotate(360deg)')
          path(d='M16 3.094L7.094 12H2v6h1.25l2.781 9.281l.219.719h19.5l.219-.719L28.75 18H30v-6h-5.094zm0 2.844L22.063 12H9.938zM4 14h24v2h-.75l-.219.719L24.25 26H7.75l-2.781-9.281L4.75 16H4zm7 3v7h2v-7zm4 0v7h2v-7zm4 0v7h2v-7z' fill='currentColor')
        // number of items in cart  
        span.icon-button__badge 2

p
.container

  - var length = products.length;

  - var i = (length-(length%4))/4;

  - for (var x = 0; x < i; x++)
    .row
      - for (var y = 0; y < 4; y++)
        -z=x*4+y
        .col-6.col-md-3.mb-3
            .zoom.card.mb-4.py-3
              h4
                span.badge.bg-danger.mt-3.ms-3 SALE
              .card-body
                div
                  img(src=`${products[z].imageCover}` alt='')
            a.text-decoration-none.text-dark(href='/p/'+products[z].id)
              .article-txt
                | #{ products[z].name}
                .d-flex.justify-content-between
                  h4.fw-bold.mt-2  #{ products[z].price + "DA"}
                  h4.fw-bold.mt-2.text-decoration-line-through.text-muted
  -i=i*4;
    .row
      - for (var x = i; x < length; x++)
        .col-6.col-md-3.mb-3
            .zoom.card.mb-4.py-3
              h4
                span.badge.bg-danger.mt-3.ms-3 SALE
              .card-body
                div
                  img(src=products[x].imageCover, alt=' ')
            a.text-decoration-none.text-dark(href='/p/'+products[x].id)
              .article-txt
                | #{ products[x].name}
                .d-flex.justify-content-between
                  h4.fw-bold.mt-2  #{ products[x].price + "DA"}
                  h4.fw-bold.mt-2.text-decoration-line-through.text-muted
 
  nav(aria-label='Page navigation')
    ul.pagination.justify-content-center
      ul.pagination
        if current > 1
          li.page-item
            a.page-link(href=`?page=${parseInt(current) - 1}`) Previous

        - for (var i = 1; i <= pages; i++) {
          if current==i
            li.page-item.active
              a.page-link(href=`?page=${i}`)=  i
          else
            li.page-item
              a.page-link(href=`?page=${i}`)=  i
        - }


        if current < pages
          li.page-item
            a.page-link(href=`?page=${parseInt(current) + 1}`) Next

//FOOTER    
include _footer
script(src='https://code.iconify.design/1/1.0.7/iconify.min.js ')
script(src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js ' integrity='sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p ' crossorigin='anonymous ')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js ' integrity='sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT ' crossorigin='anonymous ')
script(src="/js/search.js") 